<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bish Mafiosa OS</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
        body {
            background-color: black;
            color: #888888;
            font-family: 'Share Tech Mono', monospace;
            text-align: left;
            padding: 20px;
            white-space: pre;
            margin-left: 10px;
        }
        .title {
            font-size: 2rem;
            font-weight: bold;
            color: #FFD700;
        }
        .enter-text {
            font-size: 1.5rem;
            font-weight: bold;
            margin-top: 20px;
            cursor: pointer;
        }
        a {
            color: #888888;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .hidden { display: none; }
        .media-preview {
            margin-top: 10px;
            max-width: 400px;
            display: block;
        }
    </style>
</head>
<body>
    <div id="boot-screen">
        <div class="title">Bish Mafiosa OS</div>
        
        System BIOS v1.01
        CPU Type      : Krait 400 CPU at 2500 MHz
        Memory Installed : 1024M DRAM
        Display Type  : True HD-IPS+LCD 2560x1440
        GPS On Module(s) : Yes
        Initialization in progress...

        [1] Boot into Bish Mafiosa OS
        [2] Enter Safe Mode
        [3] Run Diagnostics
        [4] Shut Down

        <a class="enter-text" onclick="showPage('menu')">Press [ENTER] to continue...</a>
    </div>

    <div id="content" class="hidden"></div>

    <script>
        const thoughts = JSON.parse(localStorage.getItem("thoughts")) || [
            { title: "That Hotel In Amsterdam", body: `"I heard a whisper that said:
'What are you building in your sandbox?
What's pulling you forward, into the future?
There's a quiet power in small actions, you know:
In the fear when you fly, yet you fly nonetheless.
Who are you to not even try, wallowing in self-pity—
when those before you have endured worse hardships and more heartache.
Start with what you have // start from there.
It might get easier, it might not, but—
There's more to the iceberg,
So first learn to dance in the rain before balancing on ice!'
And that got me off my ass...
12.31.24"` }
        ];

        function showPage(page) {
            document.getElementById("boot-screen").classList.add("hidden");
            document.getElementById("content").classList.remove("hidden");

            if (page === "thoughts") {
                renderThoughts();
            }

            document.getElementById("content").innerHTML = pages[page] || "Page not found!";
        }

        function renderThoughts() {
            let thoughtsList = "<div class='title'>Thoughts - Archive of Echoes</div>";
            thoughtsList += "<ul>";

            thoughts.forEach((thought, index) => {
                thoughtsList += `<li>
                    <a href="#" onclick="viewThought(${index})">${thought.title}</a>
                    <button class="btn" onclick="editThought(${index})">Edit</button>
                </li>`;
            });

            thoughtsList += "</ul>";
            thoughtsList += `<button class="btn" onclick="showAddThoughtForm()">Add Entry</button>`;
            thoughtsList += `<br><a href="#" onclick="showPage('menu')">>> Return to Menu</a>`;

            pages["thoughts"] = thoughtsList;
        }

        function viewThought(index) {
            const thought = thoughts[index];

            let thoughtPage = `<div class='title'>${thought.title}</div>`;
            thoughtPage += `<p>${thought.body.replace(/\n/g, "<br>")}</p>`;
            thoughtPage += `<br><a href="#" onclick="showPage('thoughts')">>> Return to Thoughts Archive</a>`;

            pages["view-thought"] = thoughtPage;
            showPage("view-thought");
        }

        function showAddThoughtForm() {
            let formHtml = `<div class='title'>Add New Thought</div>`;
            formHtml += `<input id="new-title" placeholder="Title" class="entry-input"><br>`;
            formHtml += `<textarea id="new-body" placeholder="Write your thought..." class="entry-input"></textarea><br>`;
            formHtml += `<button class="btn" onclick="saveThought()">Save</button>`;
            formHtml += `<br><a href="#" onclick="showPage('thoughts')">>> Cancel</a>`;

            pages["add-thought"] = formHtml;
            showPage("add-thought");
        }

        function saveThought() {
            const newTitle = document.getElementById("new-title").value;
            const newBody = document.getElementById("new-body").value;

            if (newTitle && newBody) {
                thoughts.push({ title: newTitle, body: newBody });
                localStorage.setItem("thoughts", JSON.stringify(thoughts));
                showPage("thoughts");
            } else {
                alert("Please fill out all fields.");
            }
        }

        function editThought(index) {
            const thought = thoughts[index];

            let formHtml = `<div class='title'>Edit Thought</div>`;
            formHtml += `<input id="edit-title" value="${thought.title}" class="entry-input"><br>`;
            formHtml += `<textarea id="edit-body" class="entry-input">${thought.body}</textarea><br>`;
            formHtml += `<button class="btn" onclick="updateThought(${index})">Save Changes</button>`;
            formHtml += `<br><a href="#" onclick="showPage('thoughts')">>> Cancel</a>`;

            pages["edit-thought"] = formHtml;
            showPage("edit-thought");
        }

        function updateThought(index) {
            thoughts[index].title = document.getElementById("edit-title").value;
            thoughts[index].body = document.getElementById("edit-body").value;

            localStorage.setItem("thoughts", JSON.stringify(thoughts));
            showPage("thoughts");
        }

        const pages = {
            "menu": `
                <div class="title">Bish Mafiosa OS - Menu</div>
                [1] <a href="#" onclick="showPage('thoughts')">Thoughts - Archive of Echoes</a>
                [2] <a href="#" onclick="showPage('moments')">Moments - Data Fragments</a>
                [3] <a href="#" onclick="showPage('projects')">Projects - Files Unclassified</a>
                [4] <a href="#" onclick="showPage('about')">About</a>
                <br>
                <a href="#" onclick="showPage('boot-screen')">>> Return to Boot Screen</a>
            `
        };
    </script>
</body>
</html>
